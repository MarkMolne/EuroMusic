<!DOCTYPE html>
<html lang="en">
<title>GeoCheck</title>   
<head>
      <meta charset="utf-8" />
      <title>EuroSongs: Music without Boundaries</title>
      <meta name="description" content="This is a webpage to discover new things about the Eurovison Song Contest and the world that envolves it." /> 
      <link rel="stylesheet" href="css/mystyle.css">

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>

<body>
<div>
       <header>
         <img class="banner" src="logo/banner.png">
       </header>
       
       <nav id="barra">
         <ul>
               <li> <a href= "index.html"> Home</a> </li>
               <li> <a href= "news.html"> News </a> </li>
               <li> <a href= "songs.html"> Top 12 </a> </li>
               <li> <a href= "hostcities.html"> Host Cities </a> </li>
               <li> <a href= "GeoCheck.html"> Artist Checker </a> </li>
               <li> <a href= "winnerchart.html"> EuroMap </a> </li>
               <li> <a href= "esc2019.html"> ESC 2019 </a> </li>
               <li> <a href= "aboutme.html"> About Me </a> </li>
         </ul>
       </nav>
      </div>
		<h1 id="titulo1"> Artist Checker</h1>
        <h2 id="sub1">Check the Eurovision Artists Info!</h2>

Type the Artist name <input type="text" id="text_cp">
<br />

<input type="button" value="Click" id="the_button">
<table id="taula-cps">
	<thead>
		<tr>
			<th>Artist Name</th>
			<th>Formed Year</th>
			<th>Country</th>
			<th>Genre</th>
			<th>Label</th>
		</tr>
	</thead>
	<tbody id="dades-taula">
	<tr>
		<td id="artist">-</td>
		<td id="year">-</td>
		<td id="country">-</td>
		<td id="genre">-</td>
		<td id="label">-</td>
	</tr>
</tbody>
</table>

<br />
<br />

<script>

	document
	.getElementById("the_button")
	.addEventListener("click",() => {
		var cp = document.getElementById("text_cp").value;

		var url = 'https://www.theaudiodb.com/api/v1/json/1/search.php?s='+cp+'';

		console.log(url);

		fetch(url)
		.then(resposta => resposta.json())
		.then(json => {

			console.log(json);
			console.log(cp)
			json.artists.forEach(obj =>{
				$("#artist").html(obj.strArtist);
				$("#year").html(obj.intFormedYear);
				$("#country").html(obj.strCountry);
				$("#genre").html(obj.strGenre);
				$("#label").html(obj.strLabel);

				///$tr.append($strArtist).append($intFormedYear).append($strCountry).append($strGenre);
				///$tbody.append($tr);
			console.log(obj.strArtist);
			console.log(obj.intFormedYear);
			console.log(obj.strCountry);
			console.log(obj.strGenre);
			console.log(obj.strLabel);
    			});

  
 	 })
  
	.catch(error => console.log(error));

});

</script>
		<footer>
          © Molné Marc, 2021 / All Rights Reserved
        </footer>

</body>
</html>